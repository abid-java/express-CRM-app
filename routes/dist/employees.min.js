"use strict";var express=require("express"),router=express.Router(),mysqlconnection=require("../db_config");router.get("/",function(e,r,t){var o=[];mysqlconnection.query("select * from sakila.employees",function(e,t){e?(console.log("<============ Error while fetching data from DB ============>"),r.send(e)):(Object.values(JSON.parse(JSON.stringify(t))).forEach(function(e){var t={};t.employeeId=e.EMPLOYEE_ID,t.firstName=e.FIRST_NAME,t.lastname=e.LAST_NAME,t.contact=e.PHONE_NUMBER,t.email=e.EMAIL,t.dateofjoining=e.HIRE_DATE,o.push(t)}),r.send({status:200,data:o,resultsFound:o.length}))})}),router.get("/search/:empid",function(e,r,t){var o=[],s="select * from sakila.employees where employee_id = "+e.params.empid;mysqlconnection.query(s,function(e,t){e?(console.log("<============ Error while fetching data from DB ============>"),r.send(e)):(Object.values(JSON.parse(JSON.stringify(t))).forEach(function(e){var t={};t.employeeId=e.EMPLOYEE_ID,t.firstName=e.FIRST_NAME,t.lastname=e.LAST_NAME,t.contact=e.PHONE_NUMBER,t.email=e.EMAIL,t.dateofjoining=e.HIRE_DATE,o.push(t)}),r.send({status:200,data:o,resultsFound:o.length}))})}),module.exports=router;
//# sourceMappingURL=employees.min.js.map
