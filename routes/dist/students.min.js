"use strict";var express=require("express"),router=express.Router(),StudentModel=require("../models/student.model");router.get("/",function(e,t,s){t.send("students route activated")}),router.post("/create",function(e,s,t){console.log("Request Body : ",e);var n=new StudentModel({firstName:e.body.firstName,lastName:e.body.lastName,age:e.body.age,dob:e.body.dob,department:e.body.department}),o={status:200,description:"Student Created Successfully"};n.save(function(e,t){e?s.send(e):(console.log("<======= Overriding existing student_id with one freshly saved =======>"),o.id=t._id,s.send(o))})}),router.get("/list",function(e,s,t){var n=[],o={};StudentModel.find(function(e,t){e?s.send(e):(console.log("<======= Students - Start =======>"),console.log(JSON.stringify(t)),console.log("<======= Students - End =======>"),t.forEach(function(e){o=new StudentModel({firstName:e.firstName,lastName:e.lastName,age:e.age,dob:e.dob,department:e.department}),n.push(o)}),s.send({status:200,data:n,resultsFound:n.length}))})}),router.get("/searchByName",function(e,s,t){var n=[],o={},d=e.query.firstName;StudentModel.find({firstName:d},function(e,t){e?s.send(e):(console.log("<======= Students - Start =======>"),console.log(JSON.stringify(t)),console.log("<======= Students - End =======>"),t.forEach(function(e){o=new StudentModel({firstName:e.firstName,lastName:e.lastName,age:e.age,dob:e.dob,department:e.department}),n.push(o)}),s.send({status:200,data:n,resultsFound:n.length}))})}),module.exports=router;
//# sourceMappingURL=students.min.js.map
