"use strict";var express=require("express"),router=express.Router(),StudentModel=require("../models/student.model");router.get("/",function(e,t,n){t.send("students route activated")}),router.post("/create",function(e,n,t){console.log("Request Body : ",e);var o=new StudentModel({firstName:e.body.firstName,lastName:e.body.lastName,age:e.body.age,dob:e.body.dob,department:e.body.department}),s={status:200,description:"Student Created Successfully"};o.save(function(e,t){e?n.send(e):(console.log("<======= Overriding existing student_id with one freshly saved =======>"),s.id=t._id,n.send(s))})}),router.get("/list",function(e,n,t){var o=[],s={};StudentModel.find(function(e,t){e?n.send(e):(console.log("<======= Students - Start =======>"),console.log(JSON.stringify(t)),console.log("<======= Students - End =======>"),t.forEach(function(e){s=new StudentModel({firstName:e.firstName,lastName:e.lastName,age:e.age,dob:e.dob,department:e.department}),o.push(s)}),n.send({status:200,data:o,resultsFound:o.length}))})}),router.get("/searchByName",function(e,n,t){var o=[],s={},d=e.query.firstName;StudentModel.find({firstName:d},function(e,t){e?n.send(e):(console.log("<======= Students - Start =======>"),console.log(JSON.stringify(t)),console.log("<======= Students - End =======>"),t.forEach(function(e){s=new StudentModel({firstName:e.firstName,lastName:e.lastName,age:e.age,dob:e.dob,department:e.department}),o.push(s)}),n.send({status:200,data:o,resultsFound:o.length}))})}),router.delete("/delete",function(e,n,t){var o={age:e.query.age};StudentModel.remove(o,function(e,t){e?n.send(e):n.send(t)})}),module.exports=router;
//# sourceMappingURL=students.min.js.map
